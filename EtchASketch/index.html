<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch A Sketch</title>
    <link href="index.css" rel="stylesheet">
</head>

<body>
    <div id="newGridButtonWrapper"><button id="newGridButton">New picture</button></div>
    <div id="canvas"></div>

    <script>
        const canvas = document.querySelector('#canvas');

        function prepareCanvas(gridSize) {
            let html = '';
            let tileWidth = 600 / gridSize;

            for (let i = 0; i < gridSize * gridSize; i++) {
                html += `<div class="tile" style="width: ${tileWidth}px"></div>`;
            }

            canvas.innerHTML = html;
        }

        function paintTiles(event) {
            const target = event.target;

            if (target.classList.contains('tile')) target.classList.add('painted');

        }

        function createNewCanvas(){
            let gridSize = Number(window.prompt('How many tiles per side would you like to have for your next picture? (100 is max)'));

            if (gridSize > 100 || isNaN(gridSize)) createNewCanvas();

            canvas.innerHTML = '';

            prepareCanvas(gridSize);
        }

        document.addEventListener('DOMContentLoaded', prepareCanvas(16));
        document.querySelector('#newGridButton').addEventListener('click', createNewCanvas)
        canvas.addEventListener('mouseover', paintTiles);
    </script>
</body>

</html>